{
  "resource": "disk",
  "rules": [

    {
      "rule_name": "Abnormal PersistentVolume status",
      "description": "An alert is triggered when the status of a persistent volume (PV) is abnormal.\n\nAt the operation entry, click Cluster Storage Abnormality Events Alert Rule Set and set the Abnormal PersistentVolume Status alert rule.",
      "recommendation_sop": "For information about how to handle abnormal PersistentVolume statuses, see the disk mounting section in Disk volume FAQ. https://www.alibabacloud.com/help/en/ack/ack-managed-and-ack-dedicated/user-guide/faq-about-disk-volumes#task-2100599",
      "expression": "kube_persistentvolume_status_phase{phase=~\"Failed|Pending\"} > 0",
      "severity": "Critical",
      "category": "state",
      "labels": [
        "persistentvolume"
      ]
    },

    {
      "rule_name": "Node disk space is less than 10%",
      "description": "An alert is triggered when the free space on a node's block device is less than 10%.\n\nAt the operation entry, click Cluster Resource Abnormalities Alert Rule Set and set the Cluster Node - Disk Usage >= 85% alert rule.",
      "recommendation_sop": "We recommend scaling out the node and its disk. For more information, see the disk mounting section in Disk volume FAQ. https://www.alibabacloud.com/help/en/ack/ack-managed-and-ack-dedicated/user-guide/faq-about-disk-volumes#task-2100599",
      "expression": "((node_filesystem_avail_bytes * 100) / node_filesystem_size_bytes) < 10",
      "severity": "Critical",
      "category": "state",
      "labels": [
        "namespace",
        "node",
        "pod",
        "mountpoint"
      ]
    }
  ]
}
